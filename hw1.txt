Alexey [10:32 PM]
joined #hw1 along with 22 others.

Grigory Kislin [12:34 AM]
Всем доброй ночи!
Поздравляю с первым занятием:
https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson01.md
успехов! PS: еще не поздно взять проверку ДЗ (edited)

Grigory Kislin [12:48 AM]
set the channel topic: https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson01.md

Marat [8:58 AM]
Добрый день.
Файлы патчей можно удалять после их применения?
Или пусть лежат в проекте?

Alexey [9:01 AM]
удаляй


Marat [Today at 9:17 AM]
Комит делаем после каждого патча? А пуш после всех патчей?


1 reply
Dima [3 hours ago]
https://github.com/JavaOPs/topjava/wiki/Git#%D0%9A%D0%B0%D0%BA-%D0%B2%D0%B5%D1%81%D1%82%D0%B8-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82-%D1%83-%D1%81%D0%B5%D0%B1%D1%8F-%D0%B2-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%BC-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B5
GitHub
JavaOPs/topjava
Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery - JavaOPs/topjava


Alexey [9:20 AM]
так логичней конечно


Marat [1:31 PM]
У меня в настройках Maven указано так.
Pasted image at 2018-10-04, 4:31 PM 

Это правильно? Что за бандл?
Или указать конкретно на папку куда я скачал мавен?

Gekov Iliya [1:37 PM]
Если не ошибаюсь, это мавен который идет в комплекте с идеей


Marat [Yesterday at 1:42 PM]
То есть можно с такой настройкой работать?


1 reply
Grigory Kislin [22 hours ago]
если проблем не будет- то ок


Alexey [1:42 PM]
можно


Alexey_b [Yesterday at 5:24 PM]
а как бы так выполнить пункт 16:  после операции delete в браузере должен быть url http:\\localhost:8080\topjava\meals  ?  что-то простое нужно типа вырезать принудительно лишние действия из url ?


4 replies
Yevhen Maksymovych [18 hours ago]
это означает, что если ты используешь отдельный урл для delete (или набор параметров из урла), надо не забыть вернуть пользователя на указанный урл


Yevhen Maksymovych [18 hours ago]
а не оставлять на странице вроде .../meals/delete?id=123 (edited)


Alexey_b [18 hours ago]
ага, я понял задание, я хотел обсудить как сделать


Grigory Kislin [12 hours ago]
редирект


Sergey Zhukov [Yesterday at 8:28 PM]
а почему в jar а не в war пакуем мавеном? чтоб ручками томкету подсовывать? (edited)


3 replies
Dima [15 hours ago]
Томкат jar не сьест,но я не пробовал)



Sergey Zhukov [15 hours ago]
он его увидит и распакует в папку рядом


Sergey Zhukov [15 hours ago]
я не досмотрел, пакуем в war


Dima [Yesterday at 8:31 PM]
Для чего после локалхоста ставить еще topjava,он же и так запускается?


2 replies
Sergey Zhukov [15 hours ago]
там в томкете вроде для этого есть папка webapps/root, из нее запускать можно без topjava


Sergey Zhukov [14 hours ago]
когда на сервере крутится много проектов, то лучше контекст различать, если одно приложение, то да можно и в рут разворачивать


Sergey Zhukov [Yesterday at 10:25 PM]
кто-нибудь знает, можно ли для manager назначить порт отличный от порта на котором висят все остальные приложения? т.е все приложения на 8080, а manager на 8081 например


4 replies
shomnest [13 hours ago]
@Sergey Zhukov в файле конфигурации томката, можешь отредактировать тег service. Добавить там имя необходимого приложения и порт для него. Приложение, вроде, должно в руте у томката при этом находиться. (edited)


Flashheart [3 hours ago]
Или поднять 2 томката на разных портах.


shomnest [2 hours ago]
@Flashheart ну, это самое очевидное, не стал про это писать


Flashheart [1 hour ago]
Ну да, но может кто-то еще не знает. Пригодится :slightly_smiling_face:


Marat [Today at 9:56 AM]
Добрый день.
В чем разница между этими двумя строками?
request.getRequestDispatcher("/users.jsp").forward(request, response);
response.sendRedirect("users.jsp");


4 replies
Anton Potemkin [2 hours ago]
Привет.
http://qaru.site/questions/4837/requestdispatcherforward-vs-httpservletresponsesendredirect
Чем раньше начнешь гуглить, проще будет в дальнейшем.
qaru.site
redirect - RequestDispatcher.forward() vs HttpServletResponse.sendRedirect() - Qaru
Какова концептуальная разница между forward() и sendRedirect()?
(edited)


shomnest [2 hours ago]
@Anton Potemkin здесь люди, прежде всего для того, что бы задавать вопросы, отправлять гуглить, имхо моветон.


Anton Potemkin [2 hours ago]
Это очень просто вопрос. Я считаю что каждый должен умень находить ответы на простые вопросы. И если уже не смог, то начинать спрашивать и вести диалог. В дальнейшем это только поможет.


Anton Potemkin [2 hours ago]
Даже в письме по первому уроку было написано:
Грамотно уделяй время каждой проблеме. Две крайности - сразу бросаться за помощью и биться нам ней часами. Пробуй решить ее сам и в зависимости от проблемы выделяй на это разумное время.


Marat [9:56 AM]
И какой способ обычно используют?

Anton Potemkin [10:07 AM]
@Marat кинул статью в помощь. Это разные типы запросов и нельзя использовать какой то один их них всегда.

Marat [11:22 AM]
А где статья?


Marat [Oct 5th at 12:10 PM]
request.getRequestDispatcher("/users.jsp").forward(request, response); - один запрос на сервер, не обновляет url, объект сервлета сохраняется.
response.sendRedirect("users.jsp"); - отправляет ответ клиенту, создает новый запрос на сервер, пересоздает объект сервлета.

Второй вариант отрабатывается дольше и требует больше ресурсов сервера.
И насколько понял его используют когда перенаправляют на другой сервер.
Но зачем внутри одного проекта перенаправлять?


3 replies
Yevhen Maksymovych [3 days ago]
все очень просто, если ты форвардишь реквест, вся полезная нагрузка в нём (т.е. то, что лежит в requestBody) - тянется за ним, а если делаешь редирект, создаётся новый запрос, в котором ничего не лежит. Т.е. если тебе не надо передавать данные - ты делаешь редирект. Если надо что-то положить внутрь - делаешь форвард.



Yevhen Maksymovych [3 days ago]
технически, есть возможность передать данные и с помощью редиректа, но на данном этапе это неважно, фундаментальное отличие я указал выше :slightly_smiling_face:


Taras [3 days ago]
Почитай еще https://en.wikipedia.org/wiki/Post/Redirect/Get
Wikipedia
Post/Redirect/Get
Post/Redirect/Get (PRG) is a web development design pattern that prevents some duplicate form submissions, creating a more intuitive interface for user agents (users). PRG supports bookmarks and the refresh button in a predictable way that does not create duplicate form submissions.
When a web form is submitted to a server through an HTTP POST request, a web user that attempts to refresh the server response in certain user agents can cause the contents of the original POST request to be resubmitted, Show more… (40 kB)


Marat [12:14 PM]
В принципе понял смысл


Alexey [Oct 5th at 2:33 PM]
концептуальный вопрос - как лучше поступить с cозданием конкретного экземпляра MemoryMealRepository и его первоначальным популированием? поместить фабричный метод в MealsUtils?


2 replies
Rommyrandomy [3 days ago]
Создавай объект MemoryMealRepository при инициализации сервлета. Там можно один метод переопределить. И присмотрись к конструктору MemoryMealRepository :wink:


Alexey [3 days ago]
по инициализацию сервлета согласен, а к конструктору MemoryMealRepository зачем присматриваться?


Dima [8:51 PM]
Может это и не важно)) но переопределенный toString() класса MealWithExceed вывод старое значение)


Sergey Zhukov [Oct 5th at 11:44 PM]
киньте скриншот как должна выглядеть страница с табличкой, демо что-то не доступно сегодня. Я пока реализовал без оформления вот так, но чувствую не прокатит.
meals1.png




13 replies
Dima [3 days ago]
по оформлению ничего не говорили, кроме цвета и дат. Наверно любая пойдет


Sergey Zhukov [3 days ago]
проверь плз демку, может у меня с инетом что то


Sergey Zhukov [3 days ago]
http://topjava.herokuapp.com


Dima [3 days ago]
1111.jpg



Sergey Zhukov [3 days ago]
во спасибо, вроде соответствует ))

Sergey Zhukov [3 days ago]
optional это редактировать/удалить?

Sergey Zhukov [3 days ago]
обязательно использовать DateTimeFormatter? мне оказалось проще просто заменить T на пробел с помощью fn:replace


Dima [3 days ago]
посмотрим в четверг) я делал через javatime:format , по какой то ссылке было


Sergey Zhukov [3 days ago]
:slightly_smiling_face:


Dima [3 days ago]
https://github.com/sargue/java-time-jsptags
GitHub
sargue/java-time-jsptags
JSP tag support for Java 8 java.time (JSR-310). Contribute to sargue/java-time-jsptags development by creating an account on GitHub.
 


Sergey Zhukov [3 days ago]
https://www.tutorialspoint.com/jsp/jstl_function_replace.htm
www.tutorialspoint.com
JSTL fn:replace() Function
JSTL fn:replace() Function - Learn JSP (Java Server Pages) in simple and easy steps starting from basic to advanced concepts with examples including Java JSP Technology including Overview, Environment Setup, Architecture, Lifecycle, Syntax, Directives, Actions, Implicit Objects, Client Request, Server Response, Form Data, HTTP Request Header, Response Header, Status Codes, Writing Filters, Cookies Handling Session Tracking, File Uploading, Handling Date, Page Redirect, Hits Counter, Auto Refresh, Show more…


Dima [3 days ago]
optional завтра буду ковырять, завтра на работу)а там свои приколы


Dima [3 days ago]
222.jpg


Ilya [12:23 AM]
еще такое замечание, не надо использовать прямые ссылки на ресурсы, лучше ссылаться на маппинг сервелетов. К примеру ссылка index.html которая находится в users.jsp. Лучше создать еще один сервлет который будет мапить путь "/topjava" и форвардить на index.html. Тогда в адресной строке домашняя страница будет не  http://localhost:8080/topjava/index.html, а просто http://localhost:8080/topjava/
при условии что в ссылке будет href="/topjava"

Thaipad [6:41 AM]
@Ilya А как вообще лучше работать со ссылками и контекстами?
Например, я для удаления элемента я в списке сделал ссылку /meals?del=${item.id}, которая возвращает меня в doPost того же сервлета. После того, как я изменил контекст war на /topjava, все сломалось. Не придумал ничего лучшего, как считывать контекст сервлета, передавать параметром в jsp и строить ссылку так: ${context}/meals?del=${item.id}
Корректно ли такое решение и можно ли сделать это изящнее? (edited)


Ilya [Oct 6th at 9:04 AM]
в случае с делитом так же делаешь сервлет с мапом на delete в нем обрабатываешь удаление и перенаправляшь обратно на сервлет который показывает таблицу. в ссылке будет /delete?id=${item. id}. тут основное правило не пытайтесь все засунуть в один сервлет, каждое действие свой сервлет


4 replies
Thaipad [1 day ago]
Делать или нет новый сервлет в моем случае не имеет значения - мой вопрос в том, КАК вызвать сервлет из JSP. Может я что-то сделал неправильно, но у меня вызов и /delete?id=${item. id}, и /meals?del=${item.id} не работает, пока я не передам параметром контекст "/topjava" в JSP и приклею к пути сервлета (ну, либо не пропишу его ручками, что вообще уже ни в какие ворота не лезет).
Сервлеты в web.xml у меня замапены на "/meals" и "/delete" , topjava:war exploded из IDEA вызывается в ApplicationContext="/topjava"


Ilya [1 day ago]
попробуй сделать ссылки без лидирующего "/" (edited)


Ilya [1 day ago]
тогда у тебя будут работать ссылки от ApplicationContext, а не от рута


Thaipad [1 day ago]
Да, все отлично работает! Спасибо!


Alexey [Oct 6th at 11:37 AM]
формально говоря ссылка /delete?id=${item.id} непонятно что стирает - пользователя или еду.


6 replies
Ilya [1 day ago]
В таком контексте да) но никто не запрещает все что касается еды обрабатывать по пути /meal/[add|edit|delete], а для пользователей /users/[add|edit|delete]


vch [1 day ago]
остаётся вопрос  - зачем на каждое действие делать сервлет... В Spring, надеюсь, ты не будешь на каждое действие отдельный контроллер писать?


Ilya [1 day ago]
а спринг тут при чем? :slightly_smiling_face: В контроллере будут методы каждый из который замапен на определенное действие.


Ilya [1 day ago]
Представь открываешь ты сервлет (или метод в контроллере), а там дикая логика с кучей ифоф или свитчей которая как то основывается на тех параметрах которые туда пришли. И другая ситуация, открываешь сервлет (метод) и там 10 срок кода, где все сразу ясно).


Ilya [1 day ago]
тут конечно решать каждому самому как писать


vch [24 hours ago]
С учётом простоты нашей логики, мне кажется, вполне можно воспользоваться принципом KISS.
Впрочем, мнение Григория по данному вопросу мы узнаем буквально через несколько дней.


Nikita Ganin Oct 6th at 12:25 PM
Я правильно понимаю, что нужно создать список Meal в MealServlet и добавить в него несколько значений?

Thaipad 1 day ago
Думаю, правильнее создать интерфейс типа DaoMeal, в котором определить метод получения списка. И сделать реализацию этого интерфейса, в котором уже создать тот самый список из фиктивных значений. В дальнейшем тогда при получении данных из реальной базы можно будет в каком-нибудь одном месте (типа фабрики) заменить одну реализацию другой без правки кода сервлета.

Gekov Iliya 1 day ago
Сервлет не должен знать откуда берет данные - из памяти или из бд (edited)

Nikita Ganin 1 day ago
Спасибо. Я об этом не подумал

Ilya 1 day ago
модель называется MVC (model-view-controller), В нашем случаем view -это наши html/jsp страницы, model - это база данных, у нас она в виде коллекции в памяти (ее и будем в будущем подменять на БД), controller - некий посредник который получаем запросы от view и вытаскивает для них данные из model

Ilya 1 day ago
в идеале каждый слой mvc должен иметь интерфейс и реализацию

Ilya 1 day ago
чтобы в случае чего можно было легко менять реализацию без дополнительного рефакторинга (edited)

Dima 1 day ago
Все это больше похоже на то, чтоб показать как удобно работать со спрингом_)

Ilya 1 day ago
О нем пока никто не знает)) сначала нужно взглянуть на внутренности


Nikita Ganin [Oct 6th at 3:06 PM]
По поводу пункта "Время выводить без 'T'", если в timeUtil сделать метод для форматирования даты с помощью DateTimeFormater. Как его можно вызвать в jsp?


5 replies
Sergey Simonov [1 day ago]
да, тоже интересует


Victor_Ch [1 day ago]
в jsp можно вписать любой java код. Как знаешь, так и вызывай.


Dobrenkyi Konstantin Aleksandrovich [1 day ago]
java код в jsp это же вроде не есть хорошо?


ABaykov [23 hours ago]
Иногда можно. Ну главное, чтобы у тебя там партянка на несколько строк не растянулась. А если это аккуратный вызов утильного метода, то почему нет?


Victor_Ch [13 hours ago]
JSTL  taglib это тоже java code, только JSTL  позволяет его внедрить красиво в JSP. По-моему так...


Marat [6:16 PM]
Создал Live Template logg. Указал Import static.... Но импорт автоматически не прописывается
Разобрался - не то выбрал для импорта

Marat [6:41 PM]
Подскажите, не могу понять что значит
1.2.4 Вариант реализации:
из сервлета преобразуете еду в List<MealWithExceeded>;


Marat [Oct 6th at 6:44 PM]
В самом сервлете хардкодить еду?


13 replies
Dima [1 day ago]
хардкодить еду надо где-то, но не в сервлете) Обсуждали уже выше. Сделать интерфейс по доступу к информации, и от него имплементить метод по получению списка обычной еды. Вот в имплементации можно хардкодить еду. А в сервлете просто получить этот лист


Marat [1 day ago]
спасибо


Grigory Kislin [1 day ago]
@Dima @Marat я предлагаю
1. сделать чтобы не дублировать
2. как можно проще. не надо интерфейсов и пр. архитектурных конструкций


Sergey Zhukov [1 day ago]
только хотел спросить зачем интерфейс :grin:


Dima [1 day ago]
@Sergey Zhukov для того, чтоб потом изменить только "new НоваяИмплементация()" и ниче больше не менять)


Dima [1 day ago]
@Grigory Kislin а что значит: 1. сделать чтобы не дублировать ?


indisbk [1 day ago]
в optional то могу интерфейсы юзать? или надо как то без них?


indisbk [1 day ago]
прочитал условия, вопрос отменяется)


Also sent to the channel
Sergey Zhukov [1 day ago]
@Dima не дублировать - наверно один экземпляр для всех сервлетов, я сделал синглетон


Grigory Kislin [1 day ago]
@Dima не дублировать означает, что в коде проекта встречается 1н раз (edited)


Grigory Kislin [1 day ago]
на мой взгял даже синглетон- это излишне. почему не статическое поле?


Sergey Zhukov [1 day ago]
гг, у меня в нем статическое поле :grin: упрощу


Dima [1 day ago]
ну переделывать лень) ветка то все равно моя и никому кроме меня не нужна)


Marat [Oct 6th at 7:33 PM]
Из сервлета отправляю список еды request.setAttribute("meals", mealsWithExceeded);
Но в JSP не определяется этот список <c:forEach var="meal" items="${meals}">
Cannot resolve variable 'meals' less... (Ctrl+F1)
Inspection info: This inspection reports possible EL problems, such as unresolved references and invalid EL locations.


13 replies
Varguss [1 day ago]
Попробуй param.meals


Dima [1 day ago]
${pageContext.request.getAttribute('meals')}


Sergey Zhukov [1 day ago]
у меня тоже не определяется, но приложение работает, попробуй запусти


Marat [1 day ago]
<c:forEach var="meal" items="${pageContext.request.getAttribute('meals')}">
       <tr>
           <td>
               <c:out value="${meal.dateTime}" />


Marat [1 day ago]
Правильно я пытаюсь вывести? Не определяются поля


Dima [1 day ago]
как написал Сергей тоже работает

Marat [1 day ago]
То есть для каждой еды пытаюсь вывести его параметры


Dima [1 day ago]
добавь геттеры в класс MealWithExceed


Marat [1 day ago]
и все?


Sergey Zhukov [1 day ago]
да, гетеры нужны


Dima [1 day ago]
если вывод просто какое то значение можно просто ${значение}, без с-либы


Marat [1 day ago]
Еще вопрос: Как сделать чтобы не обращаться к JSP странице напрямую а через web.xml ?
То есть у меня сейчас request.getRequestDispatcher("meals.jsp").forward(request, response);
А хочу чтобы работало вот так request.getRequestDispatcher(/meals).forward(request, response);


Marat [1 day ago]
Геттеры помогли, спасибо


Marat [Yesterday at 5:04 AM]
А как сделать выделение цветом?
Я предполагаю так:
В JSP через теги через условие проверять meal.colories > calopiesPerDay
Создать переменную цвета и вставлять ее в <c:set var="color" value=


3 replies
Tanya [1 day ago]
`meal.colories > calopiesPerDay` не показывает превышение за день, используй поле exceed


Nikita Ganin [1 day ago]
Можно через тернарный оператор сделать на всю строку таблицы style="${var ? 'color:red' : 'color:green'}



Sergey Zhukov [23 hours ago]
@Nikita Ganin color: можно вынести


Marat [5:04 AM]
Потом этот цвет использовать в таблице

Marat [5:57 AM]
Сделал по-другому, еда закрашивается.

Marat [10:20 AM]
Почему нет автодополнения на JSP странице?
Сделал атрибут в сервлете request.setAttribute("localDateTimeFormat", DateTimeFormatter.ofPattern("dd/MM/yyyy HH:mm"));
А на JSP странице применяю формат для даты <c:out value="${localDateTimeFormat.format(meal.dateTime)}" />
Но не работает автодополение и даже не определяется
Но все работает и на странице дата отображается в соответствии с форматом

Zhinko [4:04 PM]
"Добавить поле id в Meal/ MealWithExceed и реализовать генерацию счетчика, УЧЕСТЬ МНОГОПОТОЧНОСТЬ СЕРВЛЕТОВ" 
Зачем тут нужен счётчик?

Alexey [4:11 PM]
PRIMARY KEY — первичный ключ, ограничение, позволяющее однозначно идентифицировать каждую запись в таблице

ABaykov [4:12 PM]
11 Еще раз: детали реализации в памяти не должны быть никому видны. Те НЕ НАДО счетчик размещать в Meal или MealServlet или MealsUtil, в базе же он будет по другому генерится.

Т.е. для счетчика нужно создать отдельный класс? Как я понимаю, при каждом создании нового объекта Meal, счетчик должен увеличиваться и значение счетчика записывается в поле id объекта Meal?


ABaykov [Yesterday at 4:19 PM]
Т.е. есть некий класс MealCounter в котором есть только одно поле counter.

Конструктор Meal будет выглядеть следующим образом

public Meal(LocalDateTime dateTime, String description, int calories) {
      this.id = MealCounter.getAnd IncrementCounter();
      this.dateTime = dateTime;
      this.description = description;
      this.calories = calories;
  }

так?


6 replies
vch [21 hours ago]
`MealCounter` очень уж походит на `MealsUtil`, который не рекомендовали использовать... Поэтому подозреваю что ответ на твой вопрос - `нет`.


ABaykov [21 hours ago]
Тогда где по Вашему его размещать? Если новый класс создать нельзя, в существующие добавить нельзя?


Alexey [21 hours ago]
делаешь класс с CRUD реализацией


Alexey [21 hours ago]
ты же делал проект чтобы попасть на курс?


ABaykov [20 hours ago]
Что-то определенно делал


Sergey Zhukov [17 hours ago]
Я прямо в реализации репозитория для Meal делал поле счетчика, ведь это реализация базы в памяти, база отвечает за счетчик, логично делать в этом же классе.


Zhinko [Yesterday at 4:36 PM]
А если вместо счётчика добавить поле uuid, который джава будет автоматически генерить?


6 replies
Nikita Ganin [20 hours ago]
Куда ты его хочешь добавить? Мне кажется можно сделать отдельную мапу, в которой key будет счетчик, а value - объект класса Meal. (edited)


vch [20 hours ago]
Я так понимаю - речь про изменение типа поля `id`. Чтобы избавиться от хранения счётчика где бы то ни было. Вариант необычный, но не возникнет ли проблема позже при подключении реальных СУБД?


Nikita Ganin [20 hours ago]
Ну я не вижу проблем. Это же реализация в памяти, сам бин у нас остается такой же, только к нему добавляется переменная id, но она нужна и при работе с СУБД (edited)


vch [20 hours ago]
Но это значит, что id в виде guid должен будет генерироваться на стороне PostgreSQL. Насколько я помню, там как раз с этим проблемы.


Sergey Zhukov [16 hours ago]
2.3 Добавить поле id в Meal/ MealWithExceed и реализовать генерацию счетчика... На счетчике все спотыкнулись походу, счетчик тикает при добавлении новой сущности в базу, причем у старых сменить id нельзя, и присвоить удаленный тоже, так можно нарушить требование уникальности записи, короче только инкрементить


Nikita Ganin [16 hours ago]
В mysql проблем нет, тестовое же работает. Хотя в postgres тоже нет такой пробелмы, я деплоил на хероку свое тестовое, все работает и инкрементируется


indisbk [Yesterday at 5:49 PM]
Подскажите по 18 пункту, нужен один интерфейс, который будет имплементиться как для еды так и для пользователей? Или все же интерфейсов  будет несколько?


10 replies
ABaykov [19 hours ago]
полагаю, что так как пользователь и еда сущности разные, то и интерфейсы будут разные. По идее пользователь может уметь то, что не умеет еда и наоборот.


indisbk [19 hours ago]
Справедливо, хотя я предполагал, что CRUD операции едины для user и meal.


ABaykov [19 hours ago]
ммммм... Ну а вот взять метод create - создать нового юзера. В качестве параметров данный метод будет принимать, допустим, имя пользователя, его возраст, его рост, вес и т.п. А для еды создание этот метод будет принимать - калораж, время приема пищи, description. Ну т.е. это уже будут два разных метода. В один интерфейс их вряд ли получится заделать.

Или вот метод get. У юзера тип возвращаемого значения User, а у еды Meal соответственно (edited)


indisbk [19 hours ago]
Ну я думал использовать дженерики. Но похоже это все усложнение кода.


ABaykov [19 hours ago]
Так это)) я так то сам только учусь. Может кто более умный и опытный опровергнет все мною сказанное.

Но, надеюсь, ответить на вопрос и чем-то помочь смог) (edited)


Sergey Zhukov [17 hours ago]
интерфейс один, дженерефицированный, CRUD - 4 операции create read update delete (я взял стандартные add getById update remove , я добавил еще метод getAll. Все методы подходят и для еды и для пользователей в базе.


Ilya [15 hours ago]
у меня так получилось. Класс контроллер (с интерфейсом) который включает как  юзеров, так и жратву. В этом классе есть поля UserService, MealService. которые тоже интерфейсы со своими реализациями. Сервисы вытаскивают данные из "базы"


Sergey Zhukov [15 hours ago]
@Ilya я не делал сервисы, в задании не слова, просто интерфейс через который можно лазить в репу, и одна реализация репы которая имлементит этот интерфейс, сервлет получает экземпляр репы с типом интерфейса и работает с ним (edited)


Ilya [13 hours ago]
в задании да путь решения не приведен, каждый как хочет делает. Но по итогу с каждого урока стартуем с реализации учителя)


indisbk [9 hours ago]
Благодарю господа, будем думать)


creilyss [7:45 PM]
при реализации CRUDa надо ли проверять параметры на валидность ? Или подразумеваем что вредители не пользуются ?


regorov [Yesterday at 9:34 PM]
Всем привет! Кто уже вывел на jsp список еды в виде таблицы, подскажите как вы свойства MealWithExceed распихивали по td? в переменной var из c:forEach через точку ничего нет..


4 replies
Artem [15 hours ago]
привет! насколько я понимаю, тут работает приватность полей класса.  я решил добавлением геттеров и вызовом ${meal.isExceed()} и тд


Ilya [15 hours ago]
при наличии геттеров можно писать прямо так ${meal.dateTime}, ${meal.exceed} будет вызван геттер соответствующий этому полю



Sergey Zhukov [15 hours ago]
Это idea не видит связи, в раздаточном материале в разделе "Вопросы по HW1" в самом низу написано как ей сообщить тип переменной для автодополнений, я так и не понял как этим пользоваться. Может кто расскажет?


Andrew Kalugin [14 hours ago]
можно без этой связи, все и так работает при наличии геттеров и одинаковом названии переменной в setAttribute и JSP


Andrew Kalugin [Yesterday at 10:45 PM]
+есть реализация хранения данных в памяти, допустим это будет какой-то List - его легко передать MealServlet (вывод списка еды), но как его передать в другие сервлеты? пробовал через синголтон, но в него ни как не могу запихнуть первоначальное наполнение списка. В каком направлении копать??? :slightly_smiling_face:


5 replies
bahur [14 hours ago]
Для того чтобы какой-то List был доступен везде и был одинаковым - он должен быть статическим. Что бы его заполнить можно воспользоваться статическим блоком инициализации. Таким образом ты сможешь обратиться к этому листу из любого класса, через ClassName.listOfObjects... как-то так, например. ну, оно типа, не совсем красиво и инкапсуляция нарушена, но это временная мок реализация, так что, думаю, не страшно... ну, или сделать статический геттер, а поле сделать приватным для спокойствия души))) (edited)


Andrew Kalugin [14 hours ago]
сделать статический геттер, а поле сделать приватным для спокойствия души - это уже очень синглтон напоминает :slightly_smiling_face:  статическим ну очень не хочется делать - инкапсуляции никакой, да и CRUD все же подрузомевает работу через интерфейсы. Просто после для базы данных придется все заново переписывать. В общем застрял что-то я :slightly_smiling_face:


bahur [13 hours ago]
ну, в жизни же ты никогда не будешь хранить данные в памяти... то что делается сейчас - это просто заглушка и нет смысла как-то заморачиваться над ее архитектурой. Иначе уже можно заморочиться и Н2 какой-нибудь прикрутить, что б в памяти данные хранить... есть такое правило - Make It Work Make It Right Make It Fast, в данном случае нас устроит и первое требование, т.к. это всего лишь заглушка )))


Sergey Zhukov [12 hours ago]
Григорий сказал уже что можно делать проще, не делать синглетон и делать поля статическими.


Andrew Kalugin [5 hours ago]
ок, спасибо!


regorov [Yesterday at 11:26 PM]
Куда DateTimeFormatter пристроить? Сначала сделал отдельный метод в MealWithExceed и все вроде бы хорошо, а потом прочитал типичные ошибки в ДЗ :neutral_face:


3 replies
Andrew Kalugin [14 hours ago]
в setAttribute можно передать, а в JSP выводить с помощью нужного формата


Sergey Zhukov [12 hours ago]
я прям в сервлет и пристроил ))


Dobrenkyi Konstantin Aleksandrovich [4 hours ago]
Как насчет TimeUtil?)


Sergey Zhukov Today at 12:41 AM
https://youtu.be/s9iiQpkj5H4 как-то так, можно идти спать)  @Ilya в одном сервлете сделал
 YouTube 1083511
hw1 Servlets 
 
(edited)

Ilya 12 hours ago
:+1:

Ilya A. Kvyatkovsky 12 hours ago
:+1: Сергей, твои видосы реально мотивируют быстрее шевелить мозгами!) (edited)

Ilya 3 hours ago
мне осталась только форма редактирвоания) @Sergey Zhukov у меня 5 сервелетов)):grin: (edited)



Marat [Today at 8:03 AM]
Как все-таки правильно делать CRUD ? В одном сервлете или для каждогодействия свой сервлет?


1 reply
indisbk [3 hours ago]
Для каждого свой.


Alex [Today at 9:29 AM]
Всем привет,
Pasted image at 2018-10-08, 1:29 PM



7 replies
Flashheart [3 hours ago]
Что-то с репозиторием видимо. Смотри настройки  в Home-директория пользователя -> .m2/settings.xml


Flashheart [3 hours ago]
должно быть что-то типа:


Flashheart [3 hours ago]
<?xml version="1.0" encoding="UTF-8"?>
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">


Flashheart [3 hours ago]
</settings>


Ilya [3 hours ago]
нажми кнопку обновить (reimport all maven package)


Alex [3 hours ago]
загрузил последний патч, все плагины кроме одного поправились
Pasted image at 2018-10-08, 2:30 PM



Alex [3 hours ago]
в принципе все работает. war на tomcat деплоится


Alex [9:30 AM]
С мавеном какая-то беда, подчеркивает красным плагины и выдает ошибку при попытке собрать приложение. Может кто подскажет в чем проблема?


Ilya Today at 11:16 AM
ни у кого не возникало проблем с кодировкой при передачи данных со страницы на сервер? (edited)

Thaipad 38 minutes ago
У меня параметры стали считываться правильно после установки кодировки реквесту: request.setCharacterEncoding("UTF-8")


Sergey Zhukov [1 day ago]
да тоже было


Ilya [23 hours ago]
request.setCharacterEncoding("UTF-8") не помогает(


Ilya [23 hours ago]
вот такой бубен помог


Ilya [23 hours ago]
String description = request.getParameter("description");
       byte[] bytes = description.getBytes(StandardCharsets.ISO_8859_1);
       description = new String(bytes, StandardCharsets.UTF_8);


Sergey Zhukov [22 hours ago]
@Ilya у тебя там на jsp страницах кодировка какая стоит? в настройках кодировки идеи? может браузер чудит (edited)


Ilya [22 hours ago]
@Sergey Zhukov На всех страницах contentType="text/html;charset=UTF-8"


Ilya [22 hours ago]
https://wiki.apache.org/tomcat/FAQ/CharacterEncoding#Q2 тут пишут что виноват томкат)


Sergey Zhukov [22 hours ago]
у меня последний - нет проблем, ставь 9й


Ilya [22 hours ago]
9й стоит


Ilya [21 hours ago]
каюсь, request.setCharacterEncoding("UTF-8"); не там вставлял). Вставил куда надо заработало


lifter4ik [Yesterday at 1:48 PM]
1.2.2 Время выводить без 'T'
это что имеется в виду?


2 replies
Ansseii [1 day ago]
Дата и время хранятся в переменной в виде yyyy-MM-dd’T’HH:mm


lifter4ik [1 day ago]
спасибо!


Ivan [6:03 PM]
народ а почему в .jsp не работает вывод  out.println
вроде как должен вывоить
подсвечивает крачным
красным


Yuri [Yesterday at 6:33 PM]
Проблема с логированием под Ubuntu - в упор нехочет видеть переменную окружения TOPJAVA_ROOT. Если в logback.xml указать путь явно, то все работает. Хотя переменная есть в окружении, перезагрузка IDEA и компа не помогает


7 replies
Yegor [22 hours ago]
Поэксперементируй с правами на лог файл, мне помогло только когда дал права на исполнение .Еще покапайся еще тут /etc/profile.d, у меня после перезагрузки слетала переменная окружения, пока ее туда руками не внес


Yuri [22 hours ago]
не помогло. Работает только с абсолютным путем (


Ansseii [21 hours ago]
Была такая проблема на Os X. В итоге все также решилось выдачей прав и созданием переменной через export от корня
Screenshot 2018-10-08 at 7.25.26 PM.png



Yuri [21 hours ago]
От корня тоже пробовал сделать - не помогло.

Yuri [20 hours ago]
Спасибо за помощь. В итоге добавил в /etc/profile.d/jdk.sh строку с экспортом перемнной и заработало. До этого переменную добавлял в /etc/environment (edited)


Ansseii [19 hours ago]
Кстати есть способ еще проще, вдруг кому пригодится. Идем в настройки конфигурации TomCat и явно указываем переменную без необходимости определять ее через bash.
Screenshot 2018-10-08 at 9.23.02 PM.png




Roman Baranov [18 hours ago]
Еще вариант: добавить -DTOPJAVA_ROOT=... в опции запуска приложения, тогда она доступна из java как System.getProperty("TOPJAVA_ROOT")


Ilya A. Kvyatkovsky [3:01 AM]
Тоже, запилил в одном сервлете...
https://www.youtube.com/embed/l0vnTla_WIo (edited)
MPEG 4 Video 
bandicam 2018-10-09 02-19-45-229.mp4
5 MB MPEG 4 Video


Lamekhova Alisa [Today at 12:53 PM]
Всем привет. В видео 1.5 создается директория тест. Ее нао создавать в мастере или уже в HW1?


3 replies
senadnepr [4 hours ago]
Насколько я понял, мы в мастере вообще ничего не делаем, кроме "Apply patch".  А в домашнем задании тесты писать еще не требуют.


Lamekhova Alisa [3 hours ago]
А HW1 создается от мастера после применения всех патчей получается? или параллельно все что в патчах, мы делаем в  ветках HW?


Ansseii [3 hours ago]
Если вкратце, то да, бранч очередного ДЗ создается от мастера после накатывания всех патчей урока. Тут все подробно
https://github.com/JavaOPs/topjava/wiki/Git#Правила-работы-с-патчами-на-проекте
GitHub
JavaOPs/topjava
Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery - JavaOPs/topjava
 
 
 
under4eg [Today at 1:19 PM]
Господа, подскажите, создал JSTL парсер и форматтер, но по итогу матерится на строку форматтера - "According to TLD or attribute directive in tag file, attribute [value] does not accept any expressions". Никто не сталкивался с чем-то подобным? URI taglib в норме, версия JSTL 1.2, без форматтера работает


2 replies
Ansseii [3 hours ago]
Код бы увидеть проблемный. Про зависимость в помнике же не нужно уточнять и она добавлена?


Grigory Kislin [28 minutes ago]
гуглил?

under4eg [18 hours ago]
Гуглил, абсолютно все ссылаются на таглиб, но в таком случае у меня бы куски кода JSTL вообще не работали бы, а не работает только форматтер. В помнике зависимость есть. (edited)


under4eg [14 hours ago]
Аве. Выгуглил. Правильный taglib для форматтера: <%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>. Идея импортирует неправильный.
oracle.com
Oracle Technology Network for Java Developers | Oracle Technology Network | Oracle
Oracle Technology Network is the ultimate, complete, and authoritative source of technical information and learning about Java.
(edited)


m.lysiakov [13 hours ago]
Спасибо тебе, добрый человек)


Marat Tagirov [Today at 3:19 PM]
ребят, а HW01 и Optional делать в одной ветке или разные создать?


3 replies
JavaHolic [1 hour ago]
в одной


Alla Protopopova [1 hour ago]
но лучше разными коммитами


Marat Tagirov [1 hour ago]
спасибо


Zhinko [Yesterday at 7:11 PM]
Подскажите, почему когда я пытаюсь сделать useBean вылетает ошибка ?


1 reply
shomnest [15 hours ago]
Ошибку в студию


Dima [Yesterday at 8:58 PM]
а поле id в Meal можно делать не final как остальные?


5 replies
fonto [13 hours ago]
Я сделал не final


Dima [13 hours ago]
суть в том, что если оно final , то его приходится инициализировать сходу или в конструкторе. А если сервлет ниче не должен знать о записи Meal куда либо, то значит id надо инициализировать в имплементации доступа к данным (edited)


fonto [13 hours ago]
Ну да, поэтому я и убрал


Sergey Zhukov [10 hours ago]
я делал final


Dima [2 hours ago]
@Sergey Zhukov а где ты этому полю значение добавлял? в сервлете?


m.lysiakov9:11 PM
Такой вопрос. При работе с thymeleaf на html странице в Idea работал autocomplete. Я правильно понял что в jsp нет такой реализации, а есть только сторонние решения вроде https://atom.io/packages/autocomplete-jsp
AtomAtom
autocomplete-jsp
Atom autocomplete+ provider for JSP / JSPX
KaryNaiKo11:19 PM
Как отменять (объединять с залитым) push на гитхаб?


Стецко Максим [Yesterday at 2:45 PM]
как в jsp работать с перехваченными значениями в коде java??? <%     ${count}        %> так не хочет видеть параметр.


9 replies
Dima [1 day ago]
Просто ${count}


Стецко Максим [1 day ago]
@Dima я же пишу в коде java, это между <% %> , просто итак перехватывается. Я хочу переменной присвоить перехваченное значение.


Ansseii [1 day ago]
Например вот так

<jsp:useBean id=“meals” scope=“request” type=“java.util.List”/>
<c:set var=“mealList” value=“${meals}“/>


Dima [1 day ago]
Если используешь taglib jstl,то <с:set var="имя переменной" value="${count}/>

Стецко Максим [1 day ago]
@Dima да вот и в том вопрос, даже если так задать, то просто ${} её видет. Но я хочу её использовать в <% %> (Скриплет JSP), там если вписывать "имя переменной" то её не подхватывает.


Yuri [1 day ago]
Явно что-то не то делаешь. Скриплеты лучше не использовать. Покопай в сторону query parameters в URL, если я правильно понял


Dima [1 day ago]
ну напиши просто <% int x = request.getParameter("count"); %>


Стецко Максим [1 day ago]
да мне они нужны были, чтобы перехватывать значения и делать манипуляции с ними (на примере изменения формата даты). Но как их перехватить там я без понятия пока).


Dima [1 day ago]
для форматирования даты на странице jsp я использовал библиотеку net.sargue:java-time-jsptags. вот ссылка: https://github.com/sargue/java-time-jsptags  .
GitHub
sargue/java-time-jsptags
JSP tag support for Java 8 java.time (JSR-310). Contribute to sargue/java-time-jsptags development by creating an account on GitHub.


Илья Чиликин [5:17 PM]
Уважаемые, есть вопрос. В сервлете request.getParameter в doPost отдаёт русские символы в битой кодировке. Обычно решается прописыванием URIEncoding="UTF-8" в server.xml у tomcat, но в данном случае не решилось. Что я упускаю? (edited)


Dima [Yesterday at 5:19 PM]
@Илья Чиликин пробуй в сервлете  req.setCharacterEncoding("UTF-8");


22 replies
Илья Чиликин [1 day ago]
Хотелось бы более общее решение. (edited)


Valery.Shkerdin [1 day ago]
В pom
<properties>
       <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
       <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
       <java.version>1.8</java.version>
   </properties> (edited)


Илья Чиликин [1 day ago]
@Valery.Shkerdin Это присутствует.


Valery.Shkerdin [24 hours ago]
А в какой кодировке отдает не смотрел?


Илья Чиликин [24 hours ago]
ÐÐ±ÐµÐ´ ) Не знаю, какая именно.


Valery.Shkerdin [24 hours ago]
https://www.artlebedev.ru/decoder/


Valery.Shkerdin [24 hours ago]
CP1252UTF-8


Илья Чиликин [24 hours ago]
Ну, окей, но это не отвечает на первичный вопрос.


Valery.Shkerdin [24 hours ago]
Ну это так, мало ли не решится и ручками в коде перекодировать придется. (edited)


Илья Чиликин [24 hours ago]
В jsp `<%@ page contentType="text/html;charset=UTF-8" %>`


Valery.Shkerdin [24 hours ago]
А в IDEE?

Илья Чиликин [24 hours ago]
Pasted image at 2018-10-10, 5:29 PM



Илья Чиликин [24 hours ago]
@Valery.Shkerdin В среде UTF.

Valery.Shkerdin [24 hours ago]
Гугл уже наверняка перерыл?

Valery.Shkerdin [24 hours ago]
Как то встречал совет, в этом случае предлагали удалить jsp файл, пересоздать его снова но уже со всеми корректными настройками, мне не помогло, мне помогли настройки pom.


Dima [24 hours ago]
Я считаю,если помогает req.setCharacterEncoding("UTF-8"); то нечего зацикливаться, все равно на спринге все по другому и легче

Ilya [24 hours ago]
мне посовентовали в фильтре вставить setCharacterEncoding("UTF-8") фильтр срабатывает на все запросы. я еще не пробывал, но должно работать


Gekov Iliya [24 hours ago]
Да, когда делал crud в спринге только фильтр и помог

Илья Чиликин [23 hours ago]
Я добавил фильтр `org.apache.catalina.filters.SetCharacterEncodingFilter` - это работает, но пришлось в pom добавить зависимость от версии tomcat, т.к. этот фильтр в `tomcat-embed-core`. Тоже не очень нравится вариант. (edited)


Илья Чиликин [23 hours ago]
В общем, сделал свой маленький фильтр, без лишних зависимостей.


Ilya [21 hours ago]
имелся введу  javax.servlet.Filter


Ilya [21 hours ago]
он в пакете вместе с сервлетами


Zhinko Yesterday at 8:12 PM
У кого то было что патчи улетали в ветку  hw1 с ветки мастер? (edited)

Sergey Zhukov 19 hours ago
если сначала накатить патчи, потом создать ветку hw1, то ветка уже будет иметь в себе все патчи

Vlad Zinchenko 19 hours ago
я в этот раз накатил патчи в мастер, забыл сделать пуш и создал HW01, опомнился только когда сделал пуш домашки в HW01

Sergey Zhukov 19 hours ago
может сохранить домашку в другой папке, откатить git накатить патчи сделать пуш, создать ветку, вернуть файлы и сделать пуш ветки

Sergey Zhukov 19 hours ago
лучше такие вопросы в канал #git добавить


regorov [Yesterday at 11:31 PM]
Вот блин, я только hw1  доделываю, а уже hw2 появилось


2 replies
Dima Pugovkin [18 hours ago]
та же история братан, увы :tired_face:


fibz [7 hours ago]
+


Sergey [Today at 7:19 AM]
Хочу поспорить с тезисом: " Хранить нужно Meal и конвертировать ее в  MealWithExceed когда отдаем список на отображение в JSP. Иначе при редактировании любой записи или изменении юзером своей нормы caloriesPerDay нужно будет пересчитывать все записи юзера."
Пересчет нужно делать только при отображении списка на страницу (НЕ при сохранении!) а отображение делаем одинаковое кол. раз независимо от кол. классов! (Посчитайте сами)
Значит *если хранить все в классе MealWithExceed количество пересчётов поля exced не изменится*, зато не надо будет создавать новые обьекты и перегонять списки. :) (edited)


10 replies
Sergey Zhukov [10 hours ago]
говорится о том что придется менять другие объекты В БАЗЕ при сохранении в базу, а это лишняя нагрузка на базу, еще логики нужно, чтобы все записи за этот день нашла и пересчитала, поменяла если превышение (edited)


Tanya [10 hours ago]
либо придется все  записи пересчитывать при сохранении нового или апдейте
либо в БД будет храниться ненужная и неактуальная информация


Sergey [10 hours ago]
Ага , т.е. Сейчас при хранении в памяти разницы действительно нет! А когда будем хранить в БД тогда разница между реальным классом Meal в базе и временным MealWithExceed в памяти будет очевидно так? (edited)

Sergey Zhukov [10 hours ago]
при обычном сохранении сущности хождений в базу прибавится, зачем это надо


Sergey Zhukov [10 hours ago]
сам представь, ты сохранил в базу, начал поиск и пересчет других значений за день, но не успел сохранить изменения, к то то запрсил данные из базы в этот момент, а они не верные, показываются не тем цветом


Sergey Zhukov [10 hours ago]
еще хуже, разными цветами

Yuri [8 hours ago]
@Sergey Zhukov Для этого есть транзакции. Вообще это синтетический пример и пока не появятся слои и не прийдёт понимание зачем они, то тяжело будет понять почему это разные сущности


Sergey [8 hours ago]
@Sergey Zhukov  неверно: я сохранил в базу, и НЕ начал пересчет других значений. Зачем это делать- пересчет будет при отображении страницы.   Меня верно поняла @Tanya  - её главный довод что в базе будет неактуальное и неиспользуемое поле excited - да тут согласен!


vch [8 hours ago]
@Sergey Пометь поле exceed как `@Transient` и будет тебе счастье - в базу оно не попадёт, будешь заполнять только перед показом на странице



Sergey Zhukov [7 hours ago]
@Yuri я про базу в памяти, простую и без транзакций. Если реально хранить MealWithExceed  в реальной базе, я бы exceed вынес в отдельную таблицу и сделать поле exceed @ManyToOne, тогда достаточно будет щелкать всего одно значение в другой таблице "date-exceed", чтобы сменить exceed у всего дня.


Sergey [Today at 9:10 AM]
Помогите - как правильно отладку JSP делать? Точка останова ставится, но не могу понять как смотреть переменные - evaluate expression не видит переменные сервлета ((
В итоге получаю Эксепшен но не могу разобраться. Текст исключения такой:
org.apache.jasper.JasperException: An exception occurred processing JSP page [/meals.jsp] at line [24]

21:     <c:forEach items="${meals}" var="meal">
22:         <%--jsp:useBean id="meal" scope="page" type="ru.javawebinar.topjava.to.MealWithExceed"/--%>
23:         <%--c:choose--%>
24:         <tr data-mealExceed="${meal.exceed}">
25:             <td>
26:                     ${meal.dateTime.toLocalDate()} ${meal.dateTime.toLocalTime()}
27:                     <%--<%=TimeUtil.toString(meal.getDateTime())%>--%> (edited)
отладка JSP.png



17 replies
Sergey Zhukov [8 hours ago]
я думаю дело в этом meal.dateTime.toLocalDate(), он не знает ничего о методе toLocalDate() (edited)


Sergey Zhukov [8 hours ago]
если проблема с отладкой, нужно добавлять переменные поочереди и обновлять страницу, сразу будет ясно в чем проблема


Oleg1287 [8 hours ago]
http://qaru.site/questions/1243763/jstl-localdatetime-format
qaru.site
jsp - Формат JSTL LocalDateTime - Qaru
Я хочу отформатировать объект java 8 LocalDateTime в шаблоне "dd.MM.yyyy". Есть ли какая-нибудь библиотека для форматирования? Я попробовал код ниже, но получил исключение конверсии. <fmt:parseDate value="${date}" pattern="yyyy-MM-dd" var="pars


Dima [7 hours ago]
@Sergey Zhukov после того как прописали useBean type="...MealWithExceed" jsp все знает о методах полей.


Oleg1287 [7 hours ago]
а по exception - <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %> - есть такая строчка в jsp'ке?
oracle.com
Oracle Technology Network for Java Developers | Oracle Technology Network | Oracle
Oracle Technology Network is the ultimate, complete, and authoritative source of technical information and learning about Java.


Oleg1287 [7 hours ago]
опять же обращение к полям напрямую. Они модификатор доступа какой имеют?


Dima [7 hours ago]
Здесь ошибка в том, что у тега <tr> нет такого атрибута как data-mealExceed



Oleg1287 [7 hours ago]
@Dima по этому поводу не будет Exception - может попробовать.

Sergey Zhukov [7 hours ago]
@Dima я и не заметил

Dima [7 hours ago]
как бы сложно не заметить) в эксепшене написан номер строки с ошибкой

Oleg1287 [7 hours ago]
@Dima но ошибка НЕ в атрибуте :wink:


Sergey Zhukov [7 hours ago]
@Oleg1287 там автоматом ищется геттер в классе

Dima [7 hours ago]
плохо,что в slack нет такого типа текста как код. Читается в сообщении коряво)

Sergey Zhukov [7 hours ago]
И вообще уже пора заканчивать и идти смотреть решение Григория и приниматься за hw2

Oleg1287 [7 hours ago]
@Sergey Zhukov попробуй на работающей jsp дичь какую-нибудь в атрибут напиать. Exception'а не будет

Sergey Zhukov [7 hours ago]
Мне на ревью вообще ничего не сказали про формат даты и я не подключал поддержку идеи, делал как можно проще. Причем когда мы убираем T перестает работать datetime-local в хроме, а в Мазиле вообще это ничего не работает, короче делаешь под какой-нибудь один браузер, я оставлял с T и оно в форме показывается коректно


Sergey Zhukov [7 hours ago]
а для вывод достаточно через пробел двух методов getDate() и getTime() в классе MealWithExceed


Lamekhova Alisa [Today at 2:59 PM]
Привет, а ссылка на 2ой урок уже была?


4 replies
Dima [2 hours ago]
https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson02.md
GitHub
JavaWebinar/topjava
Contribute to JavaWebinar/topjava development by creating an account on GitHub.
 


Dima [2 hours ago]
канал hw2


Lamekhova Alisa [2 hours ago]
Спасибо, думала на почту придет, сижу жду)


Oleg1287 [2 hours ago]
@Lamekhova Alisa придет, но раньше публикуют в #general


senadnepr [Today at 5:18 PM]
По поводу видео HW01-optional: Firefox не поддерживает новый элемент datetime-local в HTML5. Поэтому в нём такой красоты с вводом даты пока не получится!


1 reply
Andrey Tolkachev [4 minutes ago]
да, тоже это заметил, просто поле для ввода текста без календаря